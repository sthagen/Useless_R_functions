##########################################
# 
# Script for outputing R version
#
# Series:
# Little Useless-useful R functions #17
# Created: February 02, 2021
# Author: Tomaz Kastrun
# Blog: tomaztsql.wordpress.com
# V.1.0

# Changelog: 
#
###########################################

library(dplyr)

HelloRversion <- function(text=TRUE){

  if (text==TRUE){ 
    # Get some text
    text_R <- "580a000000030003060300030500000000055554462d38000000100000000100040009000001284820202048204545454545204c20202020204c2020202020204f4f4f2020202020202052525252202020202121200a4820202048204520202020204c20202020204c20202020204f2020204f20202020202052202020522020202121200a4848484848204545454545204c20202020204c20202020204f2020204f20202020202052525252202020202121200a4820202048204520202020204c20202020204c20202020204f2020204f202020202020522020205220202020200a4820202048204545454545204c4c4c4c4c204c4c4c4c4c20204f4f4f20202020202020522020205220202021210a2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a202020202020202020207c207665723a20"
  } else {
    text_R <- "580a000000030003060300030500000000055554462d380000001000000001000400090000021d202020202020202020202020202020202020202020202020202020202020202020205f5f0a202020202020202020202020202020202020202020202020202020202020205f2e2d7e2020290a20202020202020202020202020202020202020205f2e2e2d2d7e7e7e7e2c272020202c2d2f20202020205f0a20202020202020202020202020202020202e2d272e202e202e202e272020202c2d272c27202020202c2720290a2020202020202020202020202020202c272e202e202e205f2020202c2d2d7e2c2d275f5f2e2e2d2720202c270a202020202020202020202020202c272e202e202e202028402927202d2d2d7e7e7e7e2020202020202c270a2020202020202020202020202f2e202e202e202e20277e7e202020202020202020202020202c2d270a20202020202020202020202f2e202e202e202e202e202020202020202020202020202c2d270a202020202020202020203b202e202e202e202e20202d202e20202020202020202c270a2020202020202020203a202e202e202e202e202020202020205f20202020202f0a20202020202020202e202e202e202e202e20202020202020202020602d2e3a0a202020202020202e202e202e202e2f20202d202e20202020202020202020290a2020202020202e20202e202e207c20205f5f5f5f5f2e2e2d2d2d2e2e5f2f200a7e2d2d2d7e7e7e7e2d2d2d2d7e7e7e7e202020202020202020202020207e7e0a2020202020207c207665723a20"
  }  
  
  # Get R version
  vR<- trimws(gsub("\\(.*?\\)", "", sub("R version ","",R.version$version.string)))
  
    
  unserialized_vR <- text_R %>% 
      {substring(., seq(1, nchar(.), 2), seq(2, nchar(.), 2))} %>% 
          paste0("0x", .) %>% 
           as.integer %>% 
            as.raw %>% 
             unserialize()
  
  unserialized_vR <- paste0(unserialized_vR,vR,' |')
  
  
  cat("\014") # or  cat("\f") if running on Windows
  cat(unserialized_vR)
}

# Run function
HelloRversion()
HelloRversion(FALSE)
